= Certified By GS1 – White Paper
Mayra Castellanos <mayra.castellanos@gs1.de>; Anna Klapper <anna.klapper@gs1.de>; Dr. Sebastian Schmittner <sebastian.schmittner@eecc.de>; Roman Winter <roman.winter@gs1.de>
v0.2 von {docdatetime}
:doctype: book
:homepage: https://github.com/gs1-germany-innolab/CertifiedByGS1-Konzepte
:toc: macro
:toclevels: 3
:toc-title: Inhalt
:figure-caption: Bild
:table-caption: Tabelle
:section-refsig: Abschnitt
:icons: font
:xrefstyle: short
:imagesdir: ./pics/
:sectnums:
:chapter-refsig: Abschnitt
:appendix-refsig: Anhang
:chapter-label: 

Das vorliegende White Paper soll verschiedene Konzepte rund um
digitale Signaturen und Zertifikate erläuteren und darstellen was sie
in der Welt der GS1-Standards bedeuten und warum sie für die Zukunft
unserer Idente wichtig sind.

Wenn Sie noch nie von PKI, Public-Private Key Pair oder Self Sovereign
Identities gehört haben, sind Sie dennoch eingeladen weiterzulesen,
wir nutzen dieses White Paper auch, um wichtige Konzepte rund-um
IoT-Sicherheit zu entmystifizieren und Sie in diese spannende Welt
einzuführen.

Es war und bleibt eine aufregende und herausfordernde Reise, bei der wir gelernt, neue Dinge ausprobiert und unsere Komfortzone verlassen haben. 


Mayra Castellanos

Projektleiterin von Certified by GS1



.ToDo
[IMPORTANT]
--
Brauchen wir wirklich ein Vorwort?
--




:!sectnums:
[[executive-summary]]
== Kurz-Zusammenfassung

Certified by GS1 ist sehr gut. ;)


toc::[]


:sectnums:
[[sec_intro]]
== Einführung

In <<sec_intro>> erhalten Sie einen Überblick über wichtige
Hintergründe für das weitere Verständnis der im Projekt Certified by
GS1 entwickelten Konzepte, Praxisbeispiele und
Demonstrationen. <<sec_use_cases>> bietet Einblicke in die
Anwendungsfälle, die im Rahmen des Projektes bearbeitet wurden und
<<sec_implementation>> erläutert die technische Umsetzungskonzepte.



=== Problemstellung

Bei jeder Form der Kommunikation, sei es B2B oder B2C, Mashine to
Mashine oder unter menschlicher Beteiligung, analog oder digital,
immer ist es essentiell zu wissen wer mit wem spricht und über welche
Objekte. GS1 vergibt seit *[Datum einfügen]* Idente um konkrete Dinge,
Klassen, Orte, Handelspartner, uvm. eindeutig und unverwechselbar zu
identifizieren.  Während gängige Bezeichnungen, etwa die Abkürzung
"EECC" mehrdeutig oder dem Partner unbekannt sein können, sind GS1
Idente, wie die (Party) GLN 4047111000006 eindeutig und über die
Services der GS1 wie <<gepir>> lässt sich bei Unkenntnisse des Idents
herausfinden, dass hiermit die "European EPC Competence Center GmbH"
bezeichnet wird, wenn auch kein Service existiert bei dem alle
gültigen GS1 Idente mit zugehörigen Daten erfasst oder gar einsehbar
wären.

Gibt sich einer der Kommunikationspartner als 4047111000006 aus ist
also zumindest eindeutig, dass hiermit diese konkrete Firma gemeint
ist und nicht z.B. eine Person mit diesen Initialen. Die von GS1
vergebenen Idente ermöglichen also eine eindeutige
Identifikation. Stand heute ist jedoch keine Authentifikation <<auth>>
möglich. Es kann nicht überprüft
werden, ob der Kommunikationspartner ist wer er vorgibt zu sein. Im
allgemeinen ist es nicht einmal ohne weiteres Möglich herauszufinden,
ob es sich bei einer Nummer um ein legitimes GS1 Ident oder nur eine
Ziffernkombination im richtigen Format handelt. Letzteres Problem und
existierende Lösungsansätze werden in <<sec_verified_by_gs1>>
behandelt.

Im Projekt Certified by GS1 wurde untersucht, wie klassische und
moderne Konzepte aus dem Bereich der Digitalen Signatur und Digitaler
Zertifikate genutzt werden können, um die Authentizität von GS1 Identen und damit
zusammenhängende Stammdaten beweisbar zu machen.  Außerdem ermöglichen
die hier Vorgestellten Konzepte den mit den
Identen bezeichneten Firmen oder Dingen sich zweifelsfrei und
fälschungssicher auszuweisen und gesicherte Kommunikationskanäle mit
diesen aufzubauen.

Certified by GS1 kann so die Basis für eine Vertrauensinfrastruktur
schaffen, wie sie z.B. für das Internet of Things (IoT, siehe
<<sec_iot>>) aber auch z.B. in klassischen B2B Prozessen wie dem
Supplier Onboarding (siehe <<sec_onboarding>>) dringend benötigt
wird, um Digitalisierung und Automatisierung nicht durch
Sicherheits- und vor allem Vertrauens-Fragen zu verhindern.



=== Warum GS1?

GS1 ist eine etablierte Institution zur Vergabe von Nummernkreisen
(Namensräumen) für Idente, insbesondere Geschäfts- und Produktidente.
In diesem Sinne erfüllt die GS1 bereits die Rolle einer "Issuing
Agency".  In Certified by GS1 wurden Konzepte entwickelt, die in in
der Vergabe von Sicherheitsmerkmalen (Zertifikaten) strukturell dem
bestehenden Vergabesystem für Idente entsprechen.

GS1 vergibt (in der Regel) keine einzelnen Idente, sondern Kunden
erwerben das Recht, selbst eine bestimmte Menge von
Identen zu vergeben.
Dieses Sytem wird im Rahmen von Certified by GS1 auch für die 
Sicherheitsmerkmale und damit die authentifizierten Idente umgesetzt, so dass ein Kunde die
bisherigen Prozesse zur Vergabe von Identen strukturell beibehalten
und um die Sicherheits- und Authentifizierungsfunktion für die selbst
erzeugten Idente erweitern kann.

Gerade im Bereich des IoT, in dem jedes Gerät nicht nur ein serielles
Ident, z.B. eine SGTIN, benötigt, sondern auch die Möglichkeit, sich
individuell gegenüber anderen Geräten zu authentifizieren und mit
diesen eine vertrauenswürdige und abhörsichere Verbindung aufzubauen,
stellt die Möglichkeit solche "Certified" Idente selbst erzeugen zu
können einen großen Vorteil für den Hersteller dar, gegenüber einem
System bei dem jedes Ident und die zugehörigen Sicherheitsmerkmale
einzeln bei einer zentralen Plattform erworben werden müssen.


Als not-for-profit Standarisierungsorganisation, erfüllt GS1 die Aufgabe
globale Geschäftstandards zu entwickleln und zu pflegen. GS1 ist eine
neutrale und vertrauenswürdige Organisation. Diese Rolle als
Vertrauensanker und neutrale Platform ermöglicht es GS1, Partner und
Konkurrenten zu gemeinsamen Projekten, insbesondere im Bereich der
Standardisieurung, zusammen zu bringen.
Sie prädestiniert GS1 zum Vertrauensanker einer digitalen Zertifikate
Infrastruktur, insbesondere wenn diese auf der authentifizierung der
GS1 eigenen Idente beruht. 

Des weiteren ist GS1 bereits heute in vielen Branchen Dreh- und
Angelpunkt für mit den Identen assoziierte Stammdaten. Die
Authentifizierung dieser Stammdaten über digitale Signatur basierend
auf den Zertifikaten der Certified Idente ermöglicht eine noch weit
größere Vielzahl von Anwendungsfällen zusätzlich zur authentifizierung
der Idente selbst und liegt in einem Bereich in dem GS1 bereits
vielfach aktiv und anerkannt ist.





===  Begriffserklärungen
==== Idente, Echtheit und Identitätsdiebstahl

Das Kernprodukt der GS1 Germany ist GS1 Complete. Hier handelt es sich um ein Leistungspaket mit dem Kunden ein Nummernkreis zugeteilt wird, in welchem dieser GTINs und andere Idente vergeben kann. Es beinhaltet zusätzlich noch weitere Services und Publikationen zur Optimierung der Geschäftsprozesse. 

Elementar ist der bereits erwähnte Nummernkreis. Im Detail wird dem Kunden eine 13-stellige GLN (Global Location Number) zugeteilt, deren Basisnummer entweder 7, 8 oder 9 Stellen beinhaltet. Entsprechend kann der Kunde damit 100.000, 10.000 oder 1.000 GTINs (Global Trade Item Number) erstellen. Auch alle anderen GS1 Idente können auf Grundlage dieser Basisnummer gebildet werden. Die Vergabe und Zuteilung der einzelnen Idente erfolgt durch den Kunden selbst, ohne Kontrolle durch GS1. Jede Nummer kann nur einmal vergeben werden und ist daher weltweit überschneidungsfrei. Damit ist grundsätzlich eine eindeutige Zuordnung aller Idente möglich.

Eine Authentifikation durch GS1 ist bisher nicht gegeben. Eine Identitätsprüfung der Antragsteller für eine GS1 GLN erfolgt nicht. Dem Kunden wird bei Bestellung geglaubt, dass er derjenige ist für den er sich ausgibt. Trotz der fehlenden Kontrolle sind GS1 Germany bisher keine Identitätsdiebstähle bekannt. Ein Missbrauch der Idente erfolgt in einigen Fällen in der Nutzung gefälschter GTINs. Unternehmen, die keine GS1 Kunden sind, nutzen Nummernkombinationen entsprechend dem GS1 Nummernsystem, um Produkte online anbieten zu können. 
Dieser GTIN-Missbrauch wird GS1-intern durch Mitarbeiter verfolgt und
unterbunden. Eine teil-automatisierte Lösung, die in diesem Bereich
wächst, ist der Service „Verified by GS1“ <<sec_verified_by_gs1>>. Hier können Online-Portale und Händler GTINs auf ihre Echtheit und Herkunft überprüfen, die im Vorfeld durch die Hersteller in die GS1 Registry eingepflegt wurden.

==== LEI VS GLN

Der Legal Entity Identifier, LEI, ist ein 20-stelliger Code, der Teilnehmer am Finanzmarkt eindeutig identifiziert. Hier muss es sich um juristische Personen handeln, Einzelpersonen können keine LEI erhalten.
Der LEI wurde nach der Finanzkrise durch den G20 Gipfel eingeführt um mehr Sicherheit und Transparenz bei Finanzgeschäften zu bieten und gilt weltweit. Der LEI ist verpflichtend und ermöglicht es hinterlegte Referenzdaten im Online-Datenpool der GLEIF abzufragen. Diese Referenzdaten sind mindestens der offizielle Name laut Registrierung des Rechtsträgers, Anschrift des Unternehmens, Land der Gründung, Codes für Darstellung der Ländernamen, sowie das Datum der ersten LEI-Zuweisung und der letzten Aktualisierung, je nachdem auch das Ablaufdatum. Denn eine LEI muss jährlich verlängert werden.
Aufgebaut wird dieser Code nach dem ISO-Standard 17442. Dabei stellen die ersten vier Ziffern das LOU-Präfix dar, also den Code der jeweiligen Vergabestelle, gefolgt von den 16 Zeichen, die nicht sprechend von der Vergabestelle dem Unternehmen zugeordnet werden. Davon sollten Zeichen 5 und 6 auf null gesetzt sein. Der Code schließt ab mit der sogenannten Verifizierung-ID, also einem Prüfziffernpaar.


[[LEI]]
.Aufbau einer LEI
image::example-lei.png[]

GS1 Global (GS1 AISBL, Brüssel) ist eine offizielle Vergabestelle (Local Operating Unit, LOU) für den GLEIF (Global Legal Entity Identifier Foundation). GS1 Germany ist hier nur Vertriebspartner von GS1 Global, ein sogenannter Registration Agent (RA) und agiert als Dienstleister um LEIs zu vergeben.

Das Verfahren zum Erhalt einer LEI über GS1 beginnt damit, dass der Kunde einen Antrag auf lei.direct stellt und über dieses GS1-Online-Tool entsprechend eine Bezahlform hinterlegt. Das GS1-interne LEI Team prüft und bearbeitet den vorliegenden Antrag nach festgelegten Protokollen und Verfahren. Die Zuteilung erfolgt dann GS1 AISBL. Diese dient als Issuer. Bei GS1 befinden sich derzeit mehr als 26.000 LEIs in der Verwaltung.

Im Gegensatz zur LEI ist die GLN (Global Location Number) ein alleiniges GS1-Produkt. Die GLN dient als Identifikationsnummer für die Unternehmen, die an GS1 Complete teilnehmen. Sie wird von GS1 Germany selbstständig vergeben und gliedert sich in das weltweite GS1 System ein. GS1 Germany handelt hier allerdings nicht als Vertriebspartner, sondern als eigene Gesellschaft.
Eine GLN ist aber gleichzeitig nicht nur eine eindeutige Kundenzuordnung, sondern gleichzeitig die Basis, um weitere Idente nach GS1 Standard zu bilden. Je nach Aufbau der Basisnummer mit sieben, acht oder neun Stellen, hat der Kunde 1.000, 10.000 oder 100.000 Möglichkeiten selbstständig GLNs oder GTINs (aber auch andere Idente) zu erstellen. Dies alles zu einem Preis. Eine LEI dagegen ist einzeln zugeordnet und bietet keine weiteren Verwendungsmöglichkeiten.

Eine GLN muss nicht wie die LEI verlängert werden, sondern verlängert sich automatisch, sofern sie nicht rechtzeitig gekündigt wird. Eine GLN kann eine juristische Person sein aber auch eine Lokation. Es ist möglich mit diesem Ident verschiedene Unternehmensbereiche zu identifizieren, was mit einer LEI verboten ist.

Auch vom Aufbau unterscheidet sich die GLN von der LEI, hat sie doch nur 13 Stellen. In der Basisnummer von sieben, acht oder neun Stellen findet man das Länderpräfix, welches die ausstellende GS1 Organisation identifiziert und die eindeutige Kundenkennung. Die darauffolgenden fünf, vier oder drei Nullen dienen dem Unternehmen als Namensraum zur selbstständigen, nicht sprechenden Vergabe der eigenen Idente. Bei der letzten Ziffer handelt es sich um eine Prüfziffer.


[[GLN_Aufbau]]
.Aufbau einer GLN
image::example-gln.png[]


Ein Unternehmen, das GS1 Complete Kunde werden möchte, füllt wie der LEI-Kunde eine Online-Antragsstrecke aus. Jedoch erfolgt für die GLN-Teilnehmer keine Überprüfung, weder anhand des Handelsregisters noch auf Bonität. Es ist möglich, dass sich auch Privatpersonen registrieren.
GS1 hält derzeit mehr als 1 Millionen GLNs und ist hier breiter aufgestellt als in der LEI-Vergabe.

Gemeinsam sind den beiden beschriebenen Identen demnach die Eindeutigkeit und weltweite Überschneidungsfreiheit. Zudem können die Referenzdaten der LEI und auch der GLN durch das Unternehmen verwaltet werden. Man findet die Daten der beiden Idente dann in den jeweiligen Datenbanken. Dies ermöglicht Sicherheit für alle Geschäftsprozesse und vermindert Identitätsmissbrauch.



==== Symmetrische Verschlüsselung

Kryptografische Systeme kann man in zwei unterschiedliche Hauptbereiche einteilen: symmetrische und asymmetrische Kryptographie. Die symmetrische Verschlüsselung wird oftmals als Synonym für die symmetrische Kryptographie verwendet. Die asymmetrische Kryptographie hingegen umfasst zwei Themen: Die asymmetrische Verschlüsslung und digitale Signaturen.

Die symmetrischen Verschlüsselungsverfahren reichen recht weit in die Menschheitsgeschichte zurück. Alle kryptografischen Algorithmen, begannen als symmetrische Verfahren.
Schon 600v Chr. setzten hebräische Gelehrte einen einfachen Zeichenaustauschalgorithmus mit dem Namen Atbash-Verschlüsselung ein. Die Caesar-Verschlüsslung ist wahrscheinlich die bekannteste symmetrische Verschlüsselung. Diese geht auf den römischen Feldherrn Gaius Julius Caesar zurück. Er benutzte diese geheime Kommunikation für seine militärische Korrespondenz.

Die Funktionsweise der symmetrischen Schlüssel ist recht einfach. Es gibt nur einen Schlüssel, den geheimen Schlüssel. Der wird für die Ver- wie auch für die Entschlüsselung genutzt. Das bedeutet aber auch, dass sowohl der Sender, als auch der Empfänger immer diesen Schlüssel benötigen. Der Versender hat diesen Schlüssel, nur muss dieser auch über einen sicheren Übertragungsweg an den Empfänger gelangen, um z.B. ein Mitlesen der verschlüsselten Nachricht nicht zu ermöglichen. 
Eine symmetrische Verschlüsselung kann man daher für das Verschlüsseln von Dateien, Verzeichnissen oder Laufwerken nutzen. 

==== Asymmetrische Verschlüsselung

In der Praxis nutzt man heute eher die asymmetrische Verschlüsselung.

Denn bei der asymmetrischen Verschlüsselung benötigt man je einen Schlüssel zum Verschlüsseln der Daten und einen anderen Schlüssel zum Entschlüsseln. Der zur Verschlüsselung verwendete Schlüssel wird in einem asymmetrischen Verfahren als öffentlicher Schlüssel bezeichnet und kann jedem frei mitgeteilt werden. Der für die Entschlüsselung verwendete Schlüssel muss hingegen geheim gehalten werden. 

Erstmals wurde die Idee der asymmetrischen Verschlüsselung im Jahr 1976 von Diffie und Hellman in ihrem Aufsatz "New Directions in Cryptography" veröffentlicht. In diesem Aufsatz, führen die Autoren das Prinzip der asymmetrischen Kryptographie ein. Rivest, Shamir und Adleman stellten 1978 mit RSA das erste asymmetrische Verschlüsselungsverfahren vor. 

Die Funktionsweise einer asymmetrischen Verschlüsselung lässt sich wie folgt erklären:
Jeder Teilnehmer erzeugt sich ein sogenanntes Schlüsselpaar. Das Schlüsselpaar besteht aus einem öffentlichen und einem geheimen Schlüssel. Der private Schlüssel sollte dann nicht, oder nur in einer nicht vertretbaren Zeit, aus dem öffentlichen Schlüssel berechnet werden können. Wenn ein Versender eine geheime Nachricht an einen Empfänger versenden möchte, so benötigt er den öffentlichen Schlüssel vom Empfänger. Diesen bekommt er vom Empfänger selbst oder aus einem öffentlichen Schlüsselverzeichnis. Der Versender verschlüsselt die Nachricht mit dem öffentlichen Schlüssel und einer Verschlüsselungsfunktion. Die verschlüsselte Nachricht kann danach an den Empfänger versendet werden. Dieser benutzt die Entschlüsselungsfunktion mit Hilfe seines privaten Schlüssels, um die ursprüngliche Nachricht wiederherzustellen.

==== Hashing

Durch Hashing oder eine Hashfunktion, wird eine Zeichenkette variabler Länge auf eine Zeichenkette fester Länge abgebildet. Durch eine effiziente mathematische Funktion, wird der Hashwert meist erheblich kürzer als der Text selber. Dadurch wird ein Fingerabdruck (Fingerprint) der Zeichenkette oder Dokument erstellt. Dieser Fingerabdruck dient dann als nahezu eindeutige Kennzeichnung des Dokumentes. Ähnlich dem menschlichen Fingerabdruck, der uns nahezu eindeutig identifiziert. Durch diesen Hashwert kann man z.B. überprüfen, ob ein Dokument, eine Datei oder ein Update verändert wurden. 


.ToDo
[IMPORTANT]
--
Beispiel:
--

[[sec_digi_sig]]
==== Digitale Signatur

Wenn man von Signatur redet, muss man zwischen einer elektronischen Signatur und einer digitalen Signatur unterscheiden. Beide werden oftmals synonym verwendet, was jedoch nicht ganz richtig ist. 

Bei der elektronischen Signatur (elektronische Unterschrift), spricht man eher von einem rechtlichen oder juristischen Begriff und basiert nicht zwangsläufig auf einer digitalen Signatur. Bei der digitalen Signatur hingegen, handelt es sicher eher um ein mathematisches oder technisches Verfahren. 

Bei der digitalen Signatur wird mit dem privaten Schlüssel zu dem originalen Dokument eine „Unterschrift“/Signatur hinzugefügt. Mit dem öffentlichen Schlüssel kann dann später vom Empfänger festgestellt werden, ob die Daten wirklich von demjenigen stammen, der mit seinem privaten Schlüssel signiert hat und ob die Daten verändert worden und noch unverändert sind. Die digitalen Signaturen sind deshalb notwendig, da sich der Absender von Dateien, Dokumenten oder Nachrichten fälschen lässt. Beispielweise kann man den Absender einer E-Mail sehr einfach fälschen. Somit lässt sich die Identität des Unterzeichners zweifelsfrei nachweisen und die Integrität der elektronischen Nachricht sicherstellen. 
Wie funktionert eine digitale Signatur? Aus Performance-Gründen wird als erstes von der Nachricht ein Hashwert berechnet. Dieser Haswert ist dann der Fingerabdruck dieser Nachricht. Für die Signatur wird der geheime private Schlüssel verwendet und durch einen Signieralgorithmus ein Wert, die sogenannte digitale Signatur, berechnet. Die Nachricht kann dann mit der digitalen Signatur an den Empfänger versendet werden. Der Empfänger kann mit dem öffentlichen Schlüssel des Versenders überprüfen, ob die Nachricht wirklich vom tatsächlichen Versender verschickt wurde und ob diese Nachricht unverändert ist. 


==== Digitale Zertifikate

Ein „normales“ Zertifikat ist im üblichen Sinne eine Bescheinigung oder eine Urkunde zu bestimmten Informationen, zu einem Unternehmen oder zu einer Person.
GS1 vergibt in gedruckter Form ein Zertifkat für die erfolgreiche Teilnahme am globalen GS1 System. In diesem Zertifkat wird unter anderem die GLN und die dazugehörige Firma aufgeführt.
Im Gegensatz zu einem gedruckten Zertifikat, stellt ein digitales Zertifikat im Wesentlichen eine digitale Beglaubigung dar. Mit diesem digitalen Zertifikat kann man bestimmte Eigenschaften zu einem Objekt oder zu einer Person bestätigen, sowie die Echtheit und die Datenintegrität überprüfen. Durch ein Zertifikat lässt sich ein öffentlicher Schlüssel sicher einem bestimmten Besitzer zuweisen.

Zertifikate werden genutzt, um:
-	den Datenverkehr im Internet zu verschlüsseln
-	Software, Updates oder digitale Dokumente zu signieren
-	E-Mails zu verschlüsseln und zu signieren
-	VPN Verbindungen aufzubauen

Die am häufigsten verwendeten Zertifikate sind: 
-	PGP Zertifikat (siehe Zertifikatsarten in PGP) 
-	X.509 Zertifikat



[[sec_pki]]
=== Zentrale Zertifikate und Schlüssel Infrastruktur

Die in den vorangegangenen Kapiteln beschriebenen Verfahren und Methoden, bilden die Grundlage für den Aufbau einer Public Key Infrastruktur (PKI). Durch das enorme Wachstum und Verbreitung des World Wide Web und den darin angebotenen Services und Dienstleistungen, stieg auch der Bedarf an Authentifizierung und sicherer Kommunikation stark an. Alleine aus kommerziellen Gründen wie z.B. E-Commerce, Banking, Social Networks oder Online-Zugriff auf 
Datenbanken wird eine PKI unabdingbar. Bis zu diesem Zeitpunkt wurden jedoch nur symmetrische Schlüssel eingesetzt, die sowohl für die Ver- als auch die Entschlüsselung den selben Schlüssel verwenden. 

Die ersten nicht öffentlichen Entwicklungen der PKI fanden beim britischen Geheimdienst zu Anfang der 1970er Jahre statt. Wurden jedoch erst in den 1990er Jahren, aufgrund der strengen Geheimhaltungspflicht, im Nachhinein anerkannt. In einer ersten öffentlichen Bekanntgabe wurde das Prinzip der asymmetrischen Verschlüsselung dann 1976 von den beiden Kryptographen Whitfeld Diffie und Martin Hellman vorgeschlagen. 

Der Vorteil einer PKI mit einem asymmetrischen kryptographischen Verfahren liegt darin, dass es nicht nur ein Schlüsselpaar für die Ver- und Entschlüsselung gibt. Neben der Generierung und anschließenden Zertifizierung von Schlüsselpaaren, gehört auch die Verteilung von öffentlichen Schlüsseln zum genannten Verfahren. 

Eine PKI lässt sich in mehrere Komponenten einteilen: Einer Registrierungsstelle, einer Zertifizierungsstelle und dem Verzeichnisdienst. 

Die Registrierungsstelle erfasst und überprüft die Identität und ggfs. weitere Angaben des Antragstellers. Diese muss davon überzeugt sein, dass die persönlichen Daten und der erhaltene öffentliche Schlüssel auch wirklich zum Antragsteller gehören, bevor das Zertifikat ausgestellt wird. Nach einer positiven Überprüfung, wird der Zertifikatsantrag durch die Registrierungsstelle genehmigt und die Anfrage an die Zertifizierungsstelle weitergegeben. 

Die Zertifizierungsstelle wiederum integriert den öffentlichen Schlüssel vom Antragssteller in ein Zertifikat, welches dieser anschließend erhält. Zusätzlich kann die Zertifizierungsstelle die Zertifikate zur Veröffentlichung in einem öffentlichen Verzeichnis ablegen.

Oftmals befindet sich die Registrierungsstelle und die Zertifizierungsstelle in einem Unternehmen und bilden eine Einheit, als TrustCenter.

Der Verzeichnisdienst ist ein durchsuchbares Verzeichnis, das ausgestellte Zertifikate enthält. Sozusagen die Gelben Seiten der Zertifikate. Dadurch können die Zertifikate eines anderen Teilnehmers zum Prüfen einer Signatur abrufen.  ** (Unverständlich) **


[[sec_ssi]]
=== Dezentrale Zertifikate und Schlüssel Infrastruktur


==== Decentralized Identifiers (DiDs)

Decentralized Identifiers (DIDs) sind neuartige Identifikatoren, die eine verifizierbare und dezentralisierte digitale Identität ermöglichen sollen. Dabei entscheidet mindestens eine sogenannte Kontrollinstanz (DID controller) darüber, welches beliebige Subjekt (DID subject) eine DID identifizieren soll. Dieses Subjekt können u.a. Personen, Organisationen, Dinge, Datenmodelle, abstrakte Entitäten sein.

Die Bezeichner sind derart konzipiert, dass der DID-Controller beweisen kann, dass er die Kontrolle über die DID ausübt. Sie [**WER?**] sollen unabhängig von zentralisierten Registrierungsstellen, Identitäts-Providern oder Zertifizierungsstellen in Umlauf gebracht und genutzt werden können.

Technisch betrachtet ist eine DID eine URL, die eine Verbindung zwischen dem DID-Subjekt und den Mechanismen einer vertrauenswürdigen Interaktion mit diesem Subjekt herstellt. Diese Mechanismen sind als Datensätze in einem sogenannten DID-Dokument (DID document) enthalten und können z.B. Public Keys oder pseudonymisierte Biometriedaten enthalten, mit denen sich das DID-Subjekt authentifizieren und seine Eigentümerschaft an der DID beweisen kann. Darüber hinaus können Service-Endpunkte enthalten sein, die eine gesicherte Interaktion mit dem DID-Subjekt ermöglichen.

Ist das zu identifizierende Subjekt selbst Teil der DID-Controller-Gruppe, ist damit eine notwendige Bedingung für Selbstsouveränität erfüllt.


Abstract from <<did-core>>.

Decentralized identifiers (DIDs) are a new type of identifier that enables verifiable, decentralized digital identity. A DID identifies any subject (e.g., a person, organization, thing, data model, abstract entity, etc.) that the controller of the DID decides that it identifies. In contrast to typical, federated identifiers, DIDs have been designed so that they may be decoupled from centralized registries, identity providers, and certificate authorities. Specifically, while other parties might be used to help enable the discovery of information related to a DID, the design enables the controller of a DID to prove control over it without requiring permission from any other party. DIDs are URLs that associate a DID subject with a DID document allowing trustable interactions associated with that subject. Each DID document can express cryptographic material, verification methods, or service endpoints, which provide a set of mechanisms enabling a DID controller to prove control of the DID. Service endpoints enable trusted interactions associated with the DID subject. A DID document might contain semantics about the subject that it identifies. A DID document might contain the DID subject itself (e.g. a data model). 




==== Identity Layer für das Internet
DIDs können die Kernkomponente einer gänzlich neuen Ebene von
dezentralisierter digitaler Identität und der Public Key
Infrastructure für das Internet bilden. Diese könnte in Gestalt einer
dezentralisierten Public Key Infrastructure (DPKI) ebenso große
Bedeutung für die globale Sicherheit und den Datenschutz im virtuellen
Raum haben wie es einst die Entwicklung des SSL/TLS-Protokolls <<tls>>
für den
verschlüsselten Netzverkehr hatte.

==== Use Cases
Aufgrund der hohen Vielfalt an zu identifizierenden Entitäten umfassen mögliche Use Cases die unterschiedlichsten Anwendungsbereiche. Dazu zählen z.B. Online-Einkäufe, Identifikation von Baugruppen in der Automobilherstellung, verschlüsselte Datenhaltung bei Cloud-Dienstleistern oder der Zugang zu öffentlichen hinterlegten Stammdaten, als Bezeichner in einem "Verifiable Credentials"-Ökosystem (W3C). Außerdem kann man den plattformübergreifenden Austausch von service-bezogenen und werberelevanten Daten ohne die oft damit in Verbindung stehende Weitergabe von personenbezogenen Daten miteinbeziehen. 

==== Vergleiche mit anderen Identifiern
Persistenz und Dezentralität
Der Bedarf an global eindeutigen Kennzeichnern, welche keine zentralisierten Registrierungsstellen benötigen, ist nicht neu. UUIDs (Universally Unique Identifiers, auch GUIDs genannt – Globally Unique Identifiers) wurden zu diesem Zweck bereits in den 1980er Jahren entwickelt und standardisiert (Open Software Foundation und IETF RFC 4122).

Persistenz und globale Auflösbarkeit
Der Bedarf an persistenten – dauerhaft einer Entität zugewiesenen und unveränderlichen – Kennzeichnern, welche gleichzeitig global auflösbar sind, ist ebensowenig neu. Diese Art der Kennzeichner wurden als URNs (Uniform Resource Names) standardisiert (<<rfc-2141>>, RFC 8141).

==== Kryptographische Verifizierbarkeit
Im Regelfall sind UUIDs jedoch nicht global auflösbar und URNs benötigen eine zentralisierte Registrierungsstelle, falls sie auflösbar sind. Darüber hinaus ist weder UUIDs noch URNs eine weitere notwendige Eigenschaft inhärent: die Fähigkeit die Inhaberschaft des Kennzeichners kryptographisch zu verifizieren.

Tabelle 1. Eigenschaften von Identifikatoren 

==== Selbstsouveräne Identität
Zur Verwirklichung einer selbstsouveränen Identität (self-sovereign identity, SSI) – definiert als lebenslang gültige, portierbare digitale Identität, welche unabhängig ist von zentralisierten Autoritäten – muss der neue Bezeichner über jede der folgenden Eigenschaften verfügen: Persistenz, globale Auflösbarkeit, kryptographische Verifizierbarkeit und Dezentralität.]

Das Konzept einer selbstsouveränen Identität baut auf drei Hauptkomponenten auf, aus denen sie sich zusammensetzt. Zu diesen zählen neben DIDs noch Verifiable Credentials und dezentralisiertes (Public) Key Management (DPKI).

**-> unverständlicher Abschnitt**


==== Verifiable Credentials

DIDs bilden lediglich die untere Ebene einer dezentralisierten Identitätsinfrastruktur. Die darüber liegende Ebene, welche den meisten Mehrwert bietet, bilden die sogenannten Verifiable Credentials (VCs). Dieser technische Begriff steht für einen digital signierten elektronischen Berechtigungsnachweis, welcher den von der W3C Verifiable Claims Working Group entwickelten Interoperabilitätsstandards entspricht.


==== Web of Trust

Die üblichen Identitätsmanagement-Systeme basieren auf zentralisierten Autoritäten wie Verzeichnisdiensten innerhalb eines Unternehmen, Zertifizierungsstellen oder Domain-Name-Registraren. In diesem Kontext spielt auch GS1 die Rolle eines Registrars, indem über die Company-Prefix ein Namensraum zugewiesen (verkauft) wird. Dabei bilden diese Autoritäten jeweils ihre eigene Wurzel der Sicherheitskette. Damit ein Identitätsmanagement jedoch zwischen den genannten Systemen etabliert werden kann, bedarf es eines föderalistischen Identitätsmanagements.

Das Aufkommen von Distributed-Ledger-Technologien (DLTs) und der Blockchain-Technologie vereinfacht technisch völlig dezentralisierte Identitätsmanagement-Systeme. In einem dezentralen Identitätsmanagement-System können die Entitäten (Personen, Organisationen, Dinge, etc.) ihre geteilte Root of Trust frei wählen. Global verteilte Ledger, dezentralisierte P2P-Netzwerke oder andere Systeme mit gleichartigen Fähigkeiten ermöglichen eine Root of Trust ohne eine zentralisierte Autoritätsinstanz oder einen Single Point of Failure. Gemeinsam ermöglichen es DLTs und dezentralisierte Identitätsmanagement-Systeme beliebigen Entitäten ihre eigenen Bezeichner oder eine nicht festgelegte Menge an verteilten Roots of Trust zu erstellen und zu managen.

Entitäten werden mittels DIDs identifiziert und können sich authentisieren, indem sie Nachweise wie z.B. digitale Signaturen oder datenschutzkonforme biometrische Protokolle nutzen.

Dieses Design beseitigt sowohl die Abhängigkeit von zentralisierten Registrierungsstellen für Identifier als auch von zentralisierten Zertifizierungsstellen für Schlüsselverwaltungen – was zurzeit den Standard bei der hierarchischen Public-Key-Infrastruktur (PKI) darstellt. Falls die DID-Registry ein verteilter Ledger ist, kann jede Entität als ihre eigene Root of Trust fungieren. Diese Architektur wird als DPKI (dezentralisierte PKI) bezeichnet.

=== Self Sovereign Identity (SSI)

Durch den rasanten Anstieg von Social Media, stiegen neben den digitalen Aktivitäten der Nutzer auch die Anzahl der unterschiedlichsten Plattformen an. Auf jeder Plattform muss für die digitale Identität jeweils ein eigenes Profil erstellt werden. Diese Profile hinterlassen stets eine digitale Spur im Internet. Bei diesen hinterlegten Daten, handelt es sich überwiegend um sensible und personenbezogene Daten, die für die Plattformen enorm wichtig sind, aber auch eine gewisse Gefahr für einen Datendiebstahl darstellen. 

Für diese sensiblen und wertvollen Verbraucherdaten muss die Plattform auch die Verantwortung übernehmen. Vielen Unternehmen war dieses nicht bewusst und so war der Schutz der Daten nicht immer ausreichend gewährleistet und dadurch gefährdet. Oftmals wurde der Ruf der Verbraucher für die eigen zu verwaltende Identität laut. 
In den letzten Jahren entwickelte sich die Blockchain- Technologie zu einem neuen Ansatz, der dezentralen Informationssysteme. [**Unverständlich**] Bei dieser neuen Technologie, können Daten auf einzigartige Weise registriert und nicht mehr veränderbar über ein Netzwerk verteilt werden. Ein Konsens-Mechanismus zur Validierung der Informationen, ohne eine zentrale Autorität, stellt sicher, dass alle Teilnehmer eine identische Kopie der verteilten Datenbank besitzen.

Aus diesen beiden scheinbar nicht zusammenhängenden Ideen entwickelte sich das Konzept der selbstsouveränen Identität (Self-Sovereign Identity oder SSI). In der analogen Welt stehen unterschiedliche Verfahren zur Verfügung, um unsere Identität nachzuweisen: u.a. der Personalausweis, welcher ein sehr hohes Vertrauen darstellt oder der Fingerabdruck.  
In der digitalen Welt hingegen ist es etwas schwieriger. Hier haben wir die Möglichkeit über unterschiedliche Verfahren wie z.B. Post-Ident, Video-Ident, WebIdent oder Accounts bei Sozialen Netzwerken unsere Identität nachzuweisen. Jedoch müssen wir uns immer wieder neu ausweisen und stützen uns dabei stets auf dritte Dienstleister, welche unsere Identität bestätigen, die Daten speichern und verwalten. Dies hat auch den großen Nachteil, dass wir nicht immer wissen, wer welche Daten besitzt und welche Daten an andere weitergegeben werden.

Mit Hilfe einer Self-sovereign identity und dem dahinterliegenden System, kann ein Identitätsinhaber seine eigene Identität erstellen und auch komplett kontrollieren, dafür benötigt er keine Erlaubnis einer weiteren Instanz oder einer zentralen Behörde. Zusätzlich kann jeder selbst entscheiden, mit wem er seine Daten teilt und wie diese verwendet werden. Das oben beschriebene Konzept der „Public Key Infrastructure“ (PKI) wird dabei nicht verworfen, sondern aus den neuen aufkommenden Herausforderungen angepasst und im Sinne einer „Decentralized PKI“ weiterentwickelt. Anstelle eines Schlüsselverzeichnisses, das für die Speicherung und den Abruf von öffentlichen Schlüsseln dient, wird eine Blockchain eingesetzt. Dadurch sind keine zentralen Instanzen mehr notwendig, da der Identitätsinhaber, der seinen privaten Schlüssel kontrolliert, seine Zertifikate ohne einen Servicedienstleister selber ausstellt. Die Blockchain dient dabei als Schlüsselverzeichnis. Zusätzlich können die Vorteile der Blockchain-Technologie, wie eindeutige Nachweisbarkeit und Unveränderlichkeit von Transaktionen umgesetzt werden. 

Durch die eIDAS Verordnung hat die Europäische Union einen kompatiblen europäischen Rahmen für die selbstsouveräne Identität (European Self-Sovereign Identity Framework / ESSIF) geschaffen. Das ESSIF verwendet dezentrale Kennungen (decentralized identifiers / DIDs) und die European Blockchain Services Infrastructure(EBSI).  [**ein wenig aus dem Zusammenhang, evtl. ist dem Leser eIDAS nicht bekannt. **]


=== Vertrauen / GS1 als Vertrauenswürdiger Dritter

==== Certified by GS1 Trust Model
Das Vertrauen in Idente certified by GS1 funktioniert konzeptionell ähnlich wie bei klassischen Dokumenten. Auch wenn die entsprechenden Ideen aus dem DID/SSI Umfeld kommen, ist das Trust-Modell unabhängig von der Realisierung über DIDs oder klassische (zentrale) PKI Zertifikatsketten.
Ausweisketten
 
Abbildung 1: Vertrauen in klassische Ausweisdokumente

Das Vertrauen in die Identität z.B. einer realen Person kommt durch die Überprüfung (z.B. Abgleich des Fotos, Überprüfung von Kopierschutzmaßnahmen im Dokument, etc.) eines fälschungssicheren Ausweises ("Autorisierung") zustande. Hierbei vertraut der Prüfer zunächst einer Autorität hinter dem AUssteller, z.B. dem Staat als Auftraggeber der Bundesdruckerei. Diese bestätigt mit der Ausstellung des Dokumentes, dass der Inhaber legitim ist. Gleichzeitig enthält das Dokument die nötigen Eigenschaften, um seine eigene Echtheit zu überprüfen und zusätzlich, dass der Inhaber derjenige ist, für den das Dokument ausgestellt wurde. So wird das Vertrauen des Prüfers, wiederum indirekt, auf den Inhaber des Dokuments übertragen und die Autorisierung ist erfolgreich. Der Prozess wird in Bild 1  dargestellt.

==== IDs certified by GS1
 
Abbildung 2: Vertrauen in IDs certified by GS1

Das Vertrauen in Maschinen oder allgemein IoT Devices, die sich mit Identen certified by GS1 ausweisen, entsteht analog zum klassischen Vertrauen in Ausweisdokumente, wie in Bild 2 analog zu Bild 1 dargestellt. Wichtig ist hierbei, dass lediglich zwischen GS1 und dem Maschinenhersteller ein Vertragsverhältnis existieren muss. Es bedarf prinzipiell keiner direkten Verbindung zwischen dem Fabrikbetreiber und GS1 oder [oder????] -> geht beides, Stichwort GIAI

==== Produkt: Certified IDs

Die zertifizierten Versionen der GS1 Idente, insbesondere
- (S)GLNs für Unternehmen(steile) und
- GIAI für Assets wie Machinen, Sensoren, oder allgemein IoT Devices,

bieten, neben einer Authentifikation (Echtheits-/Urheber-Prüfung) der Idente, die in Abgrenzung zu den online Services wie GEPIR oder Verified by GS1
- offline und
- unabhängig von einer Zentralen Stelle, d.h. ohne den Zwang zur Datenweitergabe
erfolgen kann, die Möglichkeit im Namen der Identifizierten Entität digitale Signaturen zu erstellen und so z.B.
- digitale Geschäftsdokumente im Namen eines Unternehmens(teils) zu signieren oder
- die Echtheit von Messdaten eines Sensors direkt durch diesen fälschungssicher zu beglaubigen.
[*zu lang*]

.ToDo
[[IMPORTANT]]
===
überlapp mit <<sec_verified_by_gs1>>
==


==== USP
Anders als bei vergleichbaren Lösungen ermöglicht GS1 es einem Unternehmen das Kunde für die Certified IDs wird, auf Basis einer initial von GS1 vergebenen zertifizierten Basis GLN, die das Unternehmen selbst als Legale Person identifiziert, eigenständig Idente, wie GIAIs für Assets, weitere (S)GLNs für z.B. Unternehmensteile, Niederlassungen oder Abteilungen und alle weiteren GS1 Standardidente unabhängig von GS1 zu erzeugen. Für Unternehmen, die diese Unabhängigkeit nicht benötigen, kann GS1 die Erstellung weiterer Certified IDs als Service anbieten.

==== Technische Realisierung
Im aktuellen Projekt wird die Realisierung der Certified IDs sowohl über klassische X.509 Zertifikatsketten (PKI) als auch über "Verifiable Credentials" im Rahmen einer SSI/DID Infrastruktur erprobt. Beide Ansätze ermöglichen die dezentrale Anwendung der Idente, ohne dass nach der initialen Vergabe der zertifizierten Basis GLN eine weitere Interaktion mit GS1 notwendig ist.





[[sec_use_cases]]
== Anwendungsfälle

[[sec_verified_by_gs1]]
=== Verified by GS1

==== Problem

Die Fälschung von GS1 Identen an sich ist u.A. für Marktplätze wie
Amazon ein Problem. Auf diesem Marktplatz wird die GTIN als Ident genutzt, um
verschiedene Angebote zu gleichen Artikeln zu aggregieren und die
Echtheit der angebotenen Produkte sicherzustellen. Eine rein
syntaktische Prüfung der Nummern auf z.B. korrekte Länge oder gültige
Prüfziffer kann jedoch einfach umgangen werden und es tauchen
regelmäßig Angebotsduplikate unter gefälschten
Artikelnummern auf.

==== Existierende Lösungsansätze

Ein Abgleich mit bei GS1 registrierten Artikel-Stammdaten über die Online
Services von GS1 Germany, wie Gepir <<gepir>> bzw. den GTIN Manager
<<gtin-manager>> oder auch die Artikelstammdaten-Datenbank von GS1 Global (GS1
Registry) über den Verified by GS1 <<verified-by-gs1>> Service, kann hier
Abhilfe schaffen. Eine solche Online-Abfrage stellt zum einen sicher, dass das
Ident tatsächlich vom berechtigten GS1 Kunden vergeben wurde und zum anderen,
dass die Artikelbeschreibung mit den hinterlegten Stammdaten in Einklang steht.
Diese Überprüfung ist aktuell, je nach Service, manuell per Web-UI und/oder
automatisiert per API möglich.

==== Verbesserungspotential durch Certified

Ein Nachteil an der aktuellen Lösung ist die Veröffentlichung
der Idente und Stammdaten über eine zentrale Datenbank. Hier gibt der
Identeinhaber die Datenhoheit aus der Hand und es gibt damit einen
zentralen Angriffspunkt bzw. Single Point of Failure.  Weiterhin kann
eine Überprüfung der Idente nur online und, je nach Service, nur durch
entsprechend berechtigte/bezahlende Kunden erfolgen. Konkret steht
etwa "Verified by GS1" nur den GS1 Germany Kunden zur Verfügung.
Außerdem wird die Korrektheit der Daten nur über das Vertrauen in
die Transportverschlüsselung <<tls>> bei der Abfrage und die Identität
des Servers, der die Daten bereit stellt, gesichert. Die Daten selbst
sind in den aktuellen Konzepten nicht authentifiziert und es gibt
keinen direkten Link zum Herausgeber.


Die Umsetzung von "Certified by GS1" versetzt den Basisnummer-Inhaber in die Lage selbst
Zertifikate für die von ihm erstellten Idente und Masterdaten zu
signieren. Diese können über beliebige Kanäle weitergegeben werden,
wie bisher über zentrale Repositories, aber auch direkt
an die relevanten Partner, ohne dass dritte Einsicht erhalten oder ein
zentraler Angriffspunkt entsteht.  Die Gültigkeit der
Zertifikatskette, basierend auf dem Vertrauensanker (Zertifikat) von
GS1, kann uneingeschränkt und offline überprüft werden.

Durch die digitale Signatur und die entsprechenden
Zertifikate wird vor allem die Integrität der Daten unabhängig vom Übertragungskanal
sichergestellt. Der Überprüfer kann somit darauf vertrauen, dass ein Ident vom authorisierten Basisnummern-Inhaber vergeben wurde und
damit ein legitimes GS1 Ident ist. Eine direkte Signatur der
Masterdaten durch den legitimen Herausgeber bietet bestmöglichen
Schutz vor beabsichtigter oder unbeabsichtigter Veränderung der Daten
auf dem Weg zum Empfänger und ermöglicht so eine sichere dezentrale Kommunikation.






=== Unternehmensstammdaten

Vertrauenswürdige Daten zu Unternehmen sind für digitale
Handelsbeziehungen ebenso wichtig, wie die vertrauenswürdige
Authentifizierung realer Personen und ihrer Daten im Online-Handel,
oder - allgemeiner - bei digitalen Vertragsabschlüssen. Entsprechend einem
digitalen Ident, mit ähnlicher Vertrauenswürdigkeit wie dem
Personalausweis, benötigt ein Unternehmen möglicherweise einen digital
beglaubigten Handelsregisterauszug um sich zu authentifizieren und die
Legitimität eines Rechtsgeschäfts zu beweisen.

Bei der Vergabe eines GS1 Company Prefix (GCP) und damit eines
Nummernkreises an ein Unternehmen vergibt die GS1 auch
eine (Party) GLN zur Identifikation des Unternehmens selbst und
erfasst Daten zum Unternehmen wie Name, Rechtsform, Hauptsitz, u.a.

Basierend auf einer kritischen Überprüfung der vom Unternehmen
angegebenen Daten, wie diese z.B. bei der LEI-Vergabe durch GS1
Germany aktuell bereits stattfindet, kann GS1 die Echtheit solcher
Unternehmensstammdaten zertifizieren.
Die Vorlage vertrauenswürdig zertifizierter Daten erspart den
Vertragspartnern dieses Unternehmens künftig, diese Überprüfung selbst
durchführen zu müssen und ermöglicht so schneller und einfacher mit
dem Unternehmen in eine Rechtsbeziehung zu treten.


[[sec_onboarding]]
==== Supplier Onboarding

Ein konkreter Use Case basierend auf Unternehmensstammdaten ist das
Supplier Onboarding. Will ein Hersteller einen neuen Zulieferer in seine Systeme aufnehmen, 
so ist dies je nach Industriezweig typischerweise mit
erheblichem Aufwand verbunden, worunter die Flexibilität der
Handelsbeziehungen leidet.
Während für bestimmte Hersteller spezifische Audits möglicherweise
unumgänglich und gewünscht sind, ließe sich ein erheblicher Teil der
papierbasierten Prüfung von Unternehmensdaten, Zulassungen und
klassischen standardisierten Zertifizierungen, auf Basis einer
Vertrauensinfrastruktur digitalisieren und automatisieren.

Vertrauenswürdige Unternehmensidente certified by GS1 und ein
Grundstock an Unternehmensstammdaten, der von GS1 Überprüft und
zertifiziert wird, haben das Potential die Grundlage einer solchen
Vertrauensinfrastruktur zu bilden.


[[sec_iot]]
=== IoT

Das Internet der Dinge (Internet of Things, IoT) hat sich schnell zu einem vertrauten - und vielleicht zum am meisten gehypten - Begriff in Wirtschaft und Technologie entwickelt. Das Internet der Dinge (IoT) ähnelt einem Labyrinth voller Angebote und Lösungen, in dem Verbraucher und Nutzer oft verloren sind. Die Vielfalt der angebotenen Möglichkeiten ist scheinbar ohne Grenzen und die Menge an billigen und qualitativ hochwertigen Lösungen ist ziemlich groß.

Laut Gartner Research wird es bis 2020 rund 20 Milliarden Dinge geben, die mit dem Internet verbunden sind. Bei diesen "Dingen" handelt es sich nicht um Allzweckgeräte wie Smartphones und PCs, sondern um Objekte mit speziellen Funktionen wie Verkaufsautomaten, Düsentriebwerke, vernetzte Autos und unzählige andere Beispiele.

Es gibt keinen eindeutigen Anbieter, der sich als DER IoT-Anbieter etabliert hat, jede Branche hat ihre Favoriten, aber es gibt noch keine Marktführer. Sicher ist, dass das Internet der Dinge (IoT) einen großen Einfluss auf die Wirtschaft haben wird, indem es viele Unternehmen in digitale Geschäfte verwandelt, neue Geschäftsmodelle ermöglicht und die Effizienz verbessert.

Bei diesem Rennen um die Nummer 1 haben die Anbieter vergessen, sich um einen sehr wichtigen Faktor zu kümmern: die Cybersicherheit. Der Schutz von Daten und Privatsphäre ist für Verbraucher und Unternehmen weltweit sehr wichtig, nichtsdestotrotz erfüllen viele IoT-Produkte nicht die grundlegenden Sicherheitsstandards und gefährden ihre Nutzer. Wer hat nicht schon von dem Casino in Las Vegas gehört, das durch das IoT-Thermometer im Fischtank gehackt wurde, oder von den vielen Hackerangriffen über Baby Monitoren, die letztlich die Familien entsetzt zurückließen? Es ist wichtig, dieses Problem anzugehen und die Verbraucher auf die Bedeutung der IoT-Sicherheit aufmerksam zu machen. 

Seit das Internet weltweit eingesetzt wird, besteht die Schwierigkeit darin, alle Aktionen, die online stattfinden, zu identifizieren und zu authentifizieren. Wenn Sie z.B. eine Banktransaktion online durchführen, wollen Sie sicherstellen, dass Sie sich auf der Website Ihrer Bank anmelden und nicht auf einer gefälschten Website (die genau gleich aussehen könnte). Auch wenn Sie vertrauliche Dateien an einen Geschäftspartner senden, wollen Sie sicherstellen, dass die gewünschte Person die Daten erhält und nicht irgendein "Mittelsmann". Diese Probleme wurden bisher von den zuständigen Stellen angesprochen und gelöst.

Nichtsdestotrotz sieht die IoT-Landschaft bisher ziemlich unreguliert aus und stellt ein größeres Sicherheitsrisiko dar, weil das Internet der Dinge und die zusätzlichen Ding-zu- Ding Kommunikationsfunktionen immer mehr an Bedeutung gewinnen. Weiß Ihr Home Assistant wirklich, ob er mit Ihrem Staubsauger-Roboter kommuniziert? Spricht der Roboterarm in der Fabrik wirklich mit dem Bediener, der in der Zentrale des Unternehmens sitzt? Diese Probleme sind im Großen und Ganzen noch nicht wirklich gelöst. Daher ist es dringend notwendig, jede einzelne Person, Firma oder "Ding", die mit dem Internet verbunden ist, zu authentifizieren. 



=== Industrie 4.0 Szenario Wandlungsfähige Fabrik


Sicherheitsfragen können in industriellen Anwendungen missionskritisch werden,
das gilt insbesondere wenn das **Industrial Internet of Things (IIoT)**
Maschinen miteinander vernetzt und deren Steuerung und Konfiguration zunehmend
autonom und vernetzt erfolgt. Eine gesicherte automatische Identifizierung und
Authentifizierung ist hier absolut notwendig.


Im Anwendungsszenario "Wandlungsfähige Fabrik" der Plattform Industrie 4.0 wird
die moderne Fabrik von vielfältigen Maschinen (Robotern, Werkzeuge,
Fördertechnik, etc.) bevölkert, die im IIoT miteinander kommunizieren. Die
Maschinen selbst sind dynamisch in ihren Fähigkeiten, z.B. können Roboter und
Werkzeuge umkonfiguriert werden um verschiedene Aufgaben auszuführen. Vor allem
aber kommen verschiedene Maschinen verschiedener Hersteller gemeinsam in einer
Fertigung zum Einsatz und müssen sich möglichst direkt untereinander abstimmen,
um den aktuellen Auftrag zu fertigen. Hierdurch wird ein modularer und dadurch
wandlungsfähiger Aufbau der Produktion innerhalb einer Fabrik realisiert.

[[WFF]]
.Anwendungszenario WFF aus <<szenarien-i40>>
image::anwendungszenario-wff.png[]


Eine essentielle Voraussetzung hierfür ist, dass die Maschinen sich
untereinander individuell identifizieren und Daten austauschen können, wie in
der folgenden Grafik (angelehnt an die Veröffentlichung des VDMA <<vdma-i40>>)
dargestellt:

[[Werkzeugkasten]]
.Abgeleitet von: Werkzeugkaste Industrie 4.0 aus <<vdma-i40>>, <<acatech>>
image::werkzeugkaste-i40-vdma-part.png[]

Hervorgehoben sind die Identifikation und Einbindung von Industrial IoT (IIoT)
Devices und der Datenaustausch als notwendige Voraussetzung für die Industrie
4.0.

Ein Standard für die automatische Identifikation und Authentifizierung ist
unabdingbar, um die Abhängigkeit von einem zentralen Plattformanbieter zu
vermeiden. Zudem sind Sicherheitsfragen, insbesondere Vertrauensfragen, äußerst
relevant, um zu verhindern, dass unautorisierte Maschinen in die
Fertigungsstraße eingebracht, gefälschte Daten eingeschleust werden oder gar ein
unautorisierter Zugriff über das Internet erfolgen kann.




==== Certified By GS1


.ToDo
[IMPORTANT]
--
- Diesen Abschnitt mit <<sec_intro>> abgleichen
- ggF Inhalte dorthin verschieben
--

Bei der ID Vergabe teilt GS1 einem Unternehmen mit der Basisnummer ("Company
Prefix") einen Namensraum zu, in welchem das Unternehmen dann selbst IDs
vergeben kann. Parallel hierzu ermöglicht ein Unternehmenszertifikat mit
Basisnummer Certified By GS1 dem Unternehmen selbst Zertifikate für die eigenen
IDs zu erstellen. Diese grundlegende Idee ist in <<Chain>> dargestellt.

[[Chain]]
.Die Vertrauenswürdigkeit von Zertifikatsketten kann ausgehend vom Wurzelzertifikat überprüft werden
image::Certificate-Chain.png[]

Mit dem Unternehmenszertifikat kann die Echtheit der eigenen IDs
fälschungssicher nachgewiesen und offline überprüft werden, d.h. es kann z.B.
überprüft werden, dass eine SGTIN tatsächlich von dem Unternehmen erzeugt wurde,
dem die zugehörige Basisnummer gehört, ohne das ein online Lookup in einer
entsprechenden Datenbank nötig wäre. Auch Eigenschaften des mit der ID
gekennzeichneten Assets können z.B. über die GS1 Standards in z.B. einen 2d Code
wie die Datamatrix kodiert und deren Vertrauenswürdigkeit offline verifiziert
werden.


Abgeleitete ID-spezifische Zertifikate sind besonders im IoT Kontext
interessant, da Maschinen sich mit einer solchen ID Certified By GS1 selbst
ausweisen können. Mittels etablierter kryptografischer Verfahren können
Maschinen sich basierend auf dem Certified by GS1 System gegenseitig überprüfen
und so eine gesicherte Verbindung untereinander oder auch über das Internet z.B.
zu Cloud Diensten herstellen, wie in <<Certificates>> dargestellt.


[[Certificates]]
.Vertrauen in IDs certified by GS1 ermöglicht M2M authentifizierung und den Aufbau gesicherter Kommunikationskanäle
image::Parts-Certified.png[]


Basierend auf digital zertifizierten Identitäten kann, genau wie bei der
gängigen Verschlüsselung der Kommunikation über das Internet, ein gesicherter
Kommunikationskanal aufgebaut werden. So können z.B. Messdaten oder
Steuerbefehle übertragen werden, ohne dass diese von Dritten gefälscht werden
können.



[[EKU-PD]]
=== Dynamische Microgrids von EKU Power Drives

.ToDo
[IMPORTANT]
===============================
- <<EKU-PD>> ist größtenteils noch roh zusammen kopiert -> Lesen und schleifen.
===============================


=== Interaktive Demonstration

Eine interaktive online Demonstration des Use Cases wurde entwickelt
um den in diesem Abschnitt vorgestellten Use Case anschaulich und
leicht verständlich darzustellen.  Die Demonstration ist unter
<<online-demo>> öffentlich zugänglich.

[[eku-init]]
.Einführungstext der interaktiven Demonstration des Use Case
image::demo-screenshots/1-intro.png[]


=== EKU Power Drives

EKU entwickelt gemeinsam mit seinen Kunden intelligente
Automatisierungslösungen, mit deren Hilfe energieintensive technische Prozesse
effizienter gestaltet werden können, indem die eingesetzten Ressourcen gezielt
für den eigentlichen Prozess eingesetzt werden und der Ressourceneinsatz für
nicht prozessrelevante Vorgänge weitestgehend eliminiert wird. Hierbei
konzentriert sich EKU vorwiegend auf ortsveränderliche bzw. mobile Anlagen. Also
Systeme, die nicht an einem festen Ort installiert arbeiten, sondern bei denen
regelmäßige Standortwechsel und Rekonfiguration zum normalen Betrieb gehören.
Mit dem Engine Standby Controller (ESC) bietet EKU ein Start-Stopp-System an,
das den Leerlaufbetrieb von mobil eingesetzte Großmotoren (Leistungsklasse ca. 1
- 3 MW) auf nahezu Null bringen kann und somit neben der Einsparung von Kraftstoff
und Emissionen auch deutliche Einsparungseffekte durch Reduzierung der
Betriebsstunden der eingesetzten Motoren erzielt. Dadurch ergeben sich
verringerte Kosten durch Wartung und Ausfälle, sowie eine längere Lebensdauer
der Aggregate. Das ESC System wird als Nachrüstlösung für bestehende Anlagen
angeboten. Eine der wesentlichen Herausforderungen in diesen Systemen ist die
ständige Anpassung an veränderte Umgebungsbedingungen. Zeitintensive, manuelle
Konfigurationsarbeit muss hierbei durch den konsequenten Einsatz von
intelligenter, vernetzter Automatisierungstechnik vermieden werden, um die
Akzeptanz und Praxistauglichkeit der Systeme nicht zu gefährden. Während das ESC
System sich bisher im Wesentlichen auf die Optimierung einer einzelnen mobilen
Einheit beschränkt, steckt in der anlagenübergreifenden Optimierung des
Energieeinsatzes im Gesamtprozess nochmal deutliches Potenzial, das mit einer
verteilten Lastregelung ausgeschöpft werden soll.


Mit der SOPHIA Plattform entwickelt und betreibt EKU daher eine eigene iIoT
Cloud Lösung, welche - dezentral organisiert - im Feld direkt an den Anlagen
Daten erfasst, vor Ort verarbeitet und die Weiterleitung von Events und Auszügen
aus den Messdaten an andere Knoten im Netzwerk verwaltet. Die mobilen Anlagen
wechseln regelmäßig ihren Standort, dabei kann es auch vorkommen, dass sie
längere Zeit keine Datenverbindung zur Außenwelt aufbauen können, wenn sie - wie
z.B. im Fall von Baumaschinen zur Erschließung von Öl- und Gasquellen - in dünn
besiedelten Regionen eingesetzt werden. Alle Funktionen des SOPHIA Systems
müssen also darauf ausgelegt sein ständig rekonfiguriert zu werden und auch längere
Zeit ohne Datenverbindung zur Außenwelt alle wesentlichen Funktionen
bereitstellen zu können. Die SOPHIA Platform dient als Basis für diverse
Anwendungen, die EKU individuell auf den Anwendungsfall des Kunden zuschneidet.
Hierzu gehören z.B. Monitoring-Systeme, die während des Betriebs der Anlagen im
Feld Daten sammeln, die zur Bereitstellung von Leistungsindikatoren für das
Management bzw. die strategische Planung der Anlageneinsätze beitragen.


==== Einsatz im Feld

Bei den energieintensiven Prozessen der Kunden von EKU PD aus der Öl- und
Gasindustrie kann schon durch kleine Optimierungen des Energieeinsatzes ein
deutlich spürbarer Effekt auf Kosten und Emissionen erzielt werden. Da konkret
etwa bisher eingesetzten Dieselaggregate jeweils nur eine einzelne hydraulische
Pumpe in einer größeren Anlage antreiben, werden die Motoren oft außerhalb ihrer
optimalen Betriebspunkte gefahren. Durch die Trennung von Energieerzeugung und
-Verbrauch und die gleichzeitige Kopplung der Anlagen auf einem elektrischen
Netz können effizientere Motoren für die Energieversorgung eingesetzt werden und
die Last dynamisch auf mehrere elektrisch betriebene Pumpen verteilt werden. EKU
arbeitet hierzu am Aufbau eines lokalen Insel- Energieversorgungsnetzes
(Microgrid), sodass mobile Anlagen nach und nach hybridisiert, also einzelne am
Prozess beteiligte Systeme teilweise oder komplett elektrisch betrieben werden
werden können. Über das Microgrid kann die für den Prozess benötigte Leistung
dynamisch zwischen Generatoren und Motoren verteilt und somit der Energiebedarf
des Gesamtsystems reduziert werden.

Der Betrieb eines solchen Microgrids bringt allerdings einige Herausforderungen
mit sich. Da die Zahl der daran angebundenen Anlagen im Vergleich zum
öffentlichen Stromnetz überschaubar ist, haben Laständerungen einzelner
Teilsysteme einen deutlich stärkeren EInfluss auf die Stabilität des
Gesamtsystems. Um Ausfälle oder gar Schäden an den beteiligten Komponenten zu
vermeiden, müssen alle Stromerzeuger und Verbraucher ihre Leistungsregelung auf
einen stabilen Zustand des Microgrids auslegen. Dafür wird ein mehrstufiges
Reglerkonzept eingesetzt.



==== Regelung

===== Primärregelung

Als primäre Regelgröße dienen durch alle Anlagen direkt messbare Größen des Netzes, die dessen Stabilität
beschrieben. Bei Drehstromnetzen wird die Netzfrequenz als primäre Regelgröße genutzt. Wird die zuvor
vereinbarte Netzfrequenz unterschritten, liegt eine Überlastung des Netzes vor, es muss mehr Leistung eingespeist
oder weniger Leistung entnommen werden. Generatoren können dementsprechend ihre Motorleistung erhöhen,
Verbraucher ihre Leistungsentnahme reduzieren um das Netz zu stabilisieren. Analog dazu zeigt die Überschreitung
der Nennfrequenz eine zu hohe Einspeiseleistung an, Generatoren müssen ihre Leistung drosseln, Verbraucher
können mehr Leistung entnehmen. Analog zur Frequenz in Drehstromnetzen wird in Gleichstromnetzen (DC
Microgrid) auf die Netzspannung geregelt. Die Primärregelung muss eine Reaktion auf Veränderungen innerhalb
weniger als einer Sekunde sicherstellen.

===== Sekundärregelung

Wenn die beteiligten Anlagen außer der Information über Netzfrequenz und ihre eigenen Leistungsreserveren keine
Daten über die im Netz verfügbare Leistungskapazität haben, wird sich das Netz innerhalb kurzer Zeit
aufschwingen und es wäre nicht sinnvoll nutzbar. Außerdem soll das Netz den technischen Prozess unterstützen,
der schwankende Leistungsanforderungen hat. Daher wird eine sekundäre Regelung im Netz eingeführt, welche es
den beteiligten Anlagen ermöglicht, sich über ihre jeweils verfügbaren Leistungsreserven und -Anforderungen
abzustimmen, sodass Eingriffe in die Leistungseinspeisung und -Entnahme auch den Zustand der anderen am Netz
beteiligten Aggregate berücksichtigt. Die Sekundärregelung hat weniger kritische Anforderungen an die
Reaktionszeiten und arbeitet im Bereich von wenigen Sekunden.

===== Tertiärregelung / Strategie

Die hier als primäre und sekundäre Regelungsebene bezeichneten Systeme beziehen
sich nur auf die am Microgrid angeschlossenen Anlagen. In einem hybrid
angetriebenen Prozess können aber genauso auch nicht-elektrifizierte Pumpen an
der Bereitstellung von Pumpleistung beteiligt sein. Um das System im Gesamten zu
optimieren, macht es Sinn, auch die Parameter der nicht ans Microgrid
angeschlossenen mobilen Pumpen mit in die Regelung mit einzubeziehen. Wir
bezeichnen die strategische Entscheidung, wie die Last zwischen elektrisch und
direkt mit Diesel angetriebenen Anlagen verteilt wird, hier als tertiäre
Regelung.


==== Kommunikation

Für die Realisierung einer solchen mehrstufigen Regelstrategie müssen die am Prozess beteiligten Anlagen neben
der elektrischen Vernetzung auch informationstechnisch vernetzt werden. Dies ist eine der Aufgaben des SOPHIA
Systems. Es liefert die Infrastruktur für den Datenaustausch zwischen den Stromerzeugern und Verbrauchern im
Netz.
Solange alle Teilnehmer des Microgrids von einem einzigen Hersteller geliefert werden, ergeben sich wenig
Probleme im Aufbau einer Kommunikationsinfrastruktur. Da es aber absehbar ist, dass die Einsatzmöglichkeiten
für mobile, "smarte" Microgrids in Zukunft durch die Möglichkeit, erneuerbare Energien und Speicherlösungen
einzubinden, immer vielfältiger werden, würde es sich anbieten, hier von vorne herein auf offene Standards zur
Vernetzung der Anlagen untereinander zu setzen.
Durch die Entwicklungen im Industrie 4.0 Umfeld existieren mittlerweile mehrere offene
Kommunikationsprotokolle, die eine herstellerunabhängige Vernetzung von Industrieanlagen versprechen. Auch
die dynamische Integration und Lokalisierung von Komponenten in ein Anlagennetzwerk kann in Netzwerken auf
Basis von DDS oder OPC/UA abgebildet werden.
In unserem Microgrid-Anwendungsfall ergeben sich zwei wesentliche Anwendungsfälle für die Kommunikation von
Anlagen untereinander, also Machine-to-Machine oder M2M Kommunikation:


==== Statische Informationen

Alle an das Microgrid angeschlossenen Anlagen haben wesentliche technische Eigenschaften, welche die Anlage
charakterisieren. Dies können z.B. sein

- Hersteller
- Modell
- Nennleistung
- zulässiger Leistungsbereich
- Nennspannung
- zulässiger Spannungsbereich
- Nennfrequenz
- zulässiger Drehzahl- / Frequenzbereich
- Wirkungsgrad- Kennfeld
- vorgeschriebene Wartungsintervalle
- ...

Alle diese Eigenschaften werden vom Hersteller der Anlage angegeben. Sie werden sich über ihre Lebensdauer
hinweg nicht verändern (und wenn, dann ist diese Veränderung ebenso vorhersehbar). Üblicherweise werden
derartige Angaben vom Hersteller auf einem Typenschild zusammengefasst. Werden diese Informationen also über
ein digitales Kommunikationsprotokoll übertragen, könnte man von einem digitalen Typenschild sprechen.

[[eku-static]]
.In der Demo wird die Nutzung statischer Daten, konkret eines digitalen Typenschildes, dargestellt
image::demo-screenshots/2-rental.png[]

[[eku-static-hacked]]
.Der Problemfall manipulierter statischer Daten wird ebenfalls aufgezeigt
image::demo-screenshots/3-outage.png[]


[[sec_eku-dynamic]]
==== Dynamische Informationen

Neben den statischen Informationen über die Anlage entstehen während ihres Betriebs weitere Daten, die für
andere Teilnehmer im Netzwerk interessant sein können. So z.B.

- aktuelle Leistungsaufnahme / -Abgabe
- ggf. vorhergesehene Leistungsaufnahme im nächsten Zeitschritt
- Verschleißanzeige
- Fehlerzustände
- Zeit bis zur nächsten Wartung
- ...

Diese Informationen entstehen erst während des Betriebs und verändern sich - abhängig von der jeweiligen
Anwendung - z.B. im Bereich von einigen 10ms.


[[eku-dynamic]]
.Die Nutzung dynamischer Daten wird als Use Case präsentiert
image::demo-screenshots/5-dynamic.png[]

[[eku-dynamic-hacked]]
.Manipulierte Daten werden problematisiert
image::demo-screenshots/6-hacked.png[]


==== Dynamische Rekonfiguration von Systemen verschiedener Dienstleister und Hersteller

Die mobilen Anlagen in unserer Anwendung werden üblicherweise in Baustellenumgebungen eingesetzt. Hier
arbeiten mehrere Dienstleister Hand in Hand und das eingesetzte Equipment wird flexibel je nach Einsatzplan von
unterschiedlichen Unternehmen bereitgestellt, die wiederum auch eine bunte Mischung unterschiedlichster
Anlagentypen mehrere Hersteller unterhalten. Hinzu kommt, dass die Anlagen nach einem Einsatz von z.B. 14
Tagen wieder abgebaut und in einer komplett anderen Konfiguration an einer anderen Baustelle wieder aufgebaut
und vernetzt werden sollen.
Da hier kosteneffizient unter hohem Zeitdruck gearbeitet werden muss und das Personal ständig wechselt, müssen
alle Konfigurationsvorgänge soweit möglich automatisiert ablaufen um Zeit einzusparen und die Anfälligkeit für
Fehler zu minimieren.



==== Certified by GS1

=====  Typenschild

das digitale Typenschild, das alle für die Anlage technisch relevanten Informationen enthält, kann vom Hersteller
mittels einer elektronischen Signatur beglaubigt werden. Es kann nicht verändert werden, ohne Kenntnis des
privaten Schlüssels des Herstellers. Analog zum SSL Zertifikat im WWW, das die Echtheit einer besuchten Webseite
z.B. für online-banking bestätigt, kann das elektronische Typenschild technisch relevante Informationen vor
Veränderung schützen. Durch geeignete Mittel (z.B. dynamische oder challenge/response Inhalte) kann das digitale
Typenschild (in Verbindung mit entsprechend gesicherter Elektronik) außerdem als Schutz gegen Plagiate
eingesetzt werden.

[[eku-certified]]
.Vom Hersteller signierte digitale Typenschilder können nicht manipuliert werden und das in <<eku-static-hacked>> dargestellte Angriffszenario wird verhindert
image::demo-screenshots/4-certified-dtls.png[]


===== Dynamische Daten

um das Einschleusen von unerwünschter / schädlicher Informationen in die verteilten Regelsysteme zu vermeiden,
kann ein am Prozess beteiligtes Steuergerät seine komplette Kommunikation elektronisch signieren. Somit kann
die Echtheit der Informationen bei den Empfängern verifiziert werden. Fortlaufende Sequenznummern innerhalb
der signierten Daten vereiteln außerdem Replay-Attacken.


[[eku-certified-dynamic]]
.Signierte dynamische Daten können auch in einer unsicheren Umgebung fälschungssicher übertragen werden und der in <<eku-dynamic-hacked>> dargestellte Angriff wird verhindert
image::demo-screenshots/7-certified-dynamic.png[]


=== Pay per User

Großes Potential, insbesondere in Bezug auf Nachhaltigkeit, haben moderne Businessmodelle, in denen nicht mehr
die Geräte oder Maschinen direkt verkauft oder auf Zeit verliehen
werden, sondern der Nutzen, den der Anwender durch diese erzielt, direkt
bepreist wird. In solchen "Pay per Use" oder "as a Service" Modellen
werden alle nötigen Voraussetzungen, wie Maschinen und Betriebsmittel,
die der Nutzer braucht um den gewünschten Nutzen zu erzielen, zur
Verfügung gestellt. Wichtig ist bei den zugrundelegenden Business
Modellen immer, eine präzise und vor allem eine für alle beteiligten
vertrauenswürdige Messung der Parameter (KPIs) auf denen die Berechnung der
Kosten eines solchen Service beruht.

Aufgrund der eingesetzten Sensorik und automatisierten
Datenübertragung und Abwicklung, ggF. bis in die Abrechnung, handelt
es sich hier um IoT Use Cases, die ein hohes maß an Sicherheit
verlangen um eine Chance auf Akzeptanz am Markt zu haben.

Dieser Use Case kann als ein Spezialfall der in <<sec_eku-dynamic>>
thematisierten Übertragung dynamischer Daten in einem allgemeineren
Kontext gesehen werden. Haben die zur Berechnung der
KPIs eingesetzten Sensoren, z.B. Watt-Meter zur Messung der vom
Generator erzeugten Leistung, eine ID Certified by GS1, so kann der
entsprechende auf dem Gerät hinterlegte private Schlüssel zur Signatur
der Daten genutzt werden. Die Überprüfung der korrekten Funktion des
Sensors, etwa durch eine zertifizierte Eichung, kann ebenfalls über an
die Certified ID gebundene digitale Zertifikate abgebildet
werden. Auf diese Art und Weise werden die Daten eines Sensor
manipulationssicher und vertrauenswürdig und können als
Berechnungsgrundlage für den Preis in einem Pay per Use Modell dienen.


[[eku-pay-per-use]]
.Auch der Pay per Use Anwendungsfall wird in der Demo thematisiert
image::demo-screenshots/8-pay-per-use.png[]



[[sec_implementation]]
== Umsetzung

Im Rahmen des Certified by GS1 Projektes wurden verschiedene
Möglichkeiten der technischen Umsetzung authentifizierbarer Idente
entwickelt und untersucht. Die Grundlage bildet die kryptografische
digitale Signatur (siehe <<sec_digi_sig>>). 
Mittels digitaler Signatur kann sicher gestellt werden, dass Daten ab
dem Zeitpunkt der Signatur
unverändert sind und vom angegebenen Urheber Stammen, *vorausgesetzt*
es gibt eine vertrauenswürdige Infrastruktur, mit deren Hilfe die
öffentlichen Schlüssel eindeutig den Urhebern zugeordnet werden und
diese sind in der Lage ihre privaten Schlüssel geheim zu halten.

.ToDo
[IMPORTANT]
--
In Einleitung verschieben?
--

Wie in <<sec_pki>> und <<sec_ssi>> beschrieben kann ein
vertrauenswürdiger Teilnehmer, d.h. z.B. eine Firma wie GS1, anderen
Teilnehmern Zertifikate ausstellen. Hierbei handelt es sich immer um
unterschriebene Dokumente, in denen eine Zuordnung eines öffentlichen
Schlüssels zu einem anderen Teilnehmer bescheinigt wird. Je nach
konkretem Format können auch weitere Details im Zertifikat eingetragen
und damit beglaubigt werden.



=== Zertifikatsketten und Nummernkreise

Wie in <<Chain>> dargestellt kann prinzipiell jeder vertrauenswürdige
Teilnehmer den Kreis der vertrauenswürdigen Teilnehmer an der
vertrauensinfrastruktur erweitern, in dem der bereits
vertrauenswürdige dem neuen Teilnehmer ein entsprechendes Zertifikat
ausstellt.

Bei der klassischen, d.h. weitgehend zentralen, 
Schlüssel- und Zertifikate Infrastruktur, die
z.B. bei der Absicherung der Kommunikation über das Internet mittels
Transportverschlüßelung <<tls>> zum Einsatz kommt, stellen eine oder einige
wenige zentrale Autoritäten, denen initial vertraut wird, Zertifikate
an zwischengeschaltete Autoritäten aus. So ergeben sich, wie in
<<sec_pki>> näher erläutert, baumartige Vertrauensstrukturen.

.TODO
[IMPORTANT]
--
In Einleitung verschieben/mergen?
--

Das Nummernsystem der GS1 besteht im wesentlichen aus einer ähnlichen
Baumartigen Struktur. Ausgehend von der Gesamtheit der GS1
Organisationen und GS1 global erhalten die einzelnen
Mitgliedsorganisationen (MOs) Nummernkreise, indem eine betimmte
Präfix einer MO zugeordnet wird. Z.B. gehören alle GS1 Idente deren
erste 3 Ziffern im Bereich 400 bis 440 liegen zu GS1 Germany
<<gs1-prefix>>.
Innerhalb des eigenen Nummernkreises (d.h. beginnend mit der eigenen
GS1 Präfix) vergeben die MOs eine GS1 Company Prefix (GCP) und damit
den Kreis der Nummern beginnend mit der GCP an Firmen, z.B. gehören
alle GS1 Idente beginnend mit 4047111 zum Nummernkreis des EECC. Die
Firmen können nun innerhalb der Regeln für GS1 Idente selbst
z.B. Idente für Warenkategorien oder individuelle Waren, aber auch für
Standorte, Warensendungen, Coupons, uvm. <<gen-spec>>
vergeben. Z.B. bezeichnet die GLN 4047111000006 den
Unternehmenshauptsitz des EECC, wobei streng genommen die Art des
Idents mit dem entsprechenden Code, z.B. 414 für die GLN, mit
angegeben werden sollte. (414) 4047111000006 (254) 01 wäre ein
Beispiel für eine SGLN mit der das EECC einen spezifischeren Ort, etwa
den Posteingang des Hauptsitzes, bezeichnen könnte.

[[Chain-EECC]]
.Die vergabe von Zertifikaten im Rahmen von Certified by GS1 folgt der Logik bei der Vergabe der GS1 Idente
image::Certificate-Chain-EECC.png[]




[[sec_ssi_implementation]]
=== Verteilte Zertifikate Infrastruktur - Self Sovreign Identity (SSI)

Im Rahmen des Certified by GS1 Projektes wurde ein Prototypisches
Konzept zur Zertifizierung von GS1 Identen und assoziierten
Masterdaten mittels SSI Technologie entwickelt. Dieses Konzept stellt
eine Arbeitsgrundlage zur weiteren Abstimmung zwischen den GS1
Organisationen und mit den Partnern dar.

Die in diesem Abschnitt verwendete grundlegenden
Begriffe, insbesondere DiDs und Verifiable Credentials, werden in
<<sec_ssi>> eingeführt erläutert.

.ToDo
[IMPORTANT]
===============================
- Sicherstellen, dass dort alles erklärt wird
===============================

==== DiDs

In dem hier vorgestellten Protokoll haben nicht nur die beteiligten
Firmen, insbesondere GS1, eine eigene DiD. Konkreten Dingen,
etwa serialisierte Handelswaren oder IoT Devices, und auch abstrakten
Konzepten wie einer Klasse von Waren oder Geräten können gemäß <<did-core>> DiDs
zugeordnet werden.
Indem eine Klasse von Gegenständen, etwa alle Sensoren einer
bestimmten Baureihe eines bestimmten Herstellers, eine eigene DiD
erhalten können dieser Klasse Eigenschaften als Verifiable Credentials (VC)
attestiert werden. Insbesondere kann der Hersteller die GTIN der
Klasse und Eigenschaften, die allen Instanzen gemein sind, wie Größe,
Gewicht, Leistungsaufnahme, etc. als Verifiable Credentials
veröffentlichen.

==== Verifiable Credentials

Dem Hersteller, d.h. der DiD der Firma, wird von GS1 ein
Verifiable Credential (VC) ausgestellt, das ihm eine GS1 Company
Prefix (GCP) zuweist. Hiermit bestätigt GS1, dass diese Firma in der Tat GS1
Kunde ist und damit berechtigt, Nummern in einem gewissen Nummernkreis
(beginnend mit der GCP) zu
vergeben. Eine erfolgreiche Überprüfung des GTIN VC und des GCP VC
stellt sicher, dass die GTIN *echt* d.h. nach den <<Regeln>> von GS1
korrekt vergeben wurde. Die Vertrauenswürdigkeit und Integrität
der direkt vom Hersteller beglaubigten
Produkteigenschaften sind als Verifiable Credentials überprüfbar.

.ToDo
[IMPORTANT]
===============================
- "Regeln" ersetzen -> Verweis auf ISO
===============================

Der DiD einer konkreten Produktinstanz kann nun eine SGTIN als
serialisiertes Ident in Form eines VC zugewiesen werden. Wie in
<<GS1SSI>> dargestellt wird die DiD der zugehörigen GTIN als Issuer
verwendet, sodass die Kette der Idente von der GCP der Company über
die GTIN der Produktklasse bis zur SGTIN der konkreten Produktinstanz
entsprechend als Kette von Verifiable Credentials die sich die DiDs
ausstellen abgebildet wird.



[[GS1SSI]]
.Ablaufdiagramm für Ausgabe von Identen und Master Daten als Verifiable Credentials an entsprechende DiDs
image::certified-gs1-ids.png[]



[[sec_conclusion]]
== Fazit

=== Lessons Learned
Im Zusammenhang mit den im Vorfeld durchgeführten Umfragen, sowohl per Fragebogen als auch per individuellen Interviews, erhielt GS1 Germany eindeutige Aussagen im Industrie 4.0 Umfeld. Bis zum heutigen Zeitpunkt nehmen Cloud-Lösungen und offene Netzwerke in der Industrie noch keinen großen Stellenwert ein. Inselnetzwerke werden bevorzugt und OPC-UA ist überwiegend Zukunftsmusik. Jedoch wurde uns allgemein die Relevanz von eindeutigen sicheren IDs für Maschinen bestätigt. Bisher arbeitet der Maschinenbau mit proprietären Identen und war nicht gezwungen sich mit der Thematik auseinander zu setzen. Im Ausblick sehen alle Befragten aber die Wichtigkeit der digitalen Idente und Zertifikate und sprechen sich für die Certified by GS1 Idee aus, mit dem Hinweis, dass für die Industrie Plug-and-Play-Lösungen bevorzugt werden.

=== Business Opportunities (Extern)

**Mayra**


[[sec_next_steps]]
=== Next Steps 

[CAUTION]
===
<<sec_next_steps>> bleibt GS1 (Germany?) Intern?
===


==== Umsetzung von Certified by GS1 in aktuellen SSI Netzwerken/Projekten

In der aktuellen Ausschreibung des Bundesministeriums für Wirtschaft
und Energie (BMWi) mit dem Titel
https://www.digitale-technologien.de/DT/Navigation/DE/ProgrammeProjekte/AktuelleTechnologieprogramme/Sichere_Digitale_Identitaeten/sichere_digitale_ident.html[Schaufenster Sichere Digitale Identitäten]
werden sich GS1 und das EECC voraussichtlich mit 2 Konsortien als
Konsortailpartner um Förderung bewerben, um die in diesem Bericht
vorgestellten Konzepte weiterzuentwickeln, insbesondere die Implementierung von Certified
by GS1 Identen mittels SSI Technologie wie in
<<sec_ssi_implementation>> beschrieben.

Das 
https://www.digitale-technologien.de/DT/Redaktion/DE/Standardartikel/SchaufensterSichereDigIdentProjekte/sdi-projekt_ssi.html[Self Sovereign Identity für Deutschland]
Konsortium hat neben Personen- auch Firmen-Idente und Dinge im
Blick. Während viele SSI Umsetzungen allein auf Personen fokussieren
liegt gerade in der Anwendung der Technologie zur sicheren
Identifizierung und Authentifizierung von juristischen Personen und
Dingen, insbesondere im IoT Kontext, eine große Chance für GS1. Hier
ist die Technologie in hinreichendem Reifegrad verfügbar und es sind
noch keine starken Konkurenten am Markt etabliert. Zudem stellt die
Übertragung der bestehenden Idente in die SSI Welt eine natürliche
Weiterentwicklung der bestehenden Geschäftsmodelle und Kompetenzen von
GS1 dar. Gleiches gilt für die Zertifizierung von Stammdaten, für deren
vertrauenswürdige Bereitstellung GS1 aktuell bereits Services anbietet.

Im
https://www.digitale-technologien.de/DT/Redaktion/DE/Standardartikel/SchaufensterSichereDigIdentProjekte/sdi-projekt_id-ideal.html[ID-Ideal]
Konsortium der Schaufensterregion um die Hochschule Mittweida sollen
insbesondere auf SSI Technologie basierende Businessmodelle im Bereich
der Datenökonomie entwickelt werden.
Die weiterentwicklung bestehender Treuekarten und Punkte Systeme
mittels SSI Technologie ermöglicht es Kundendaten in einer Detailtiefe
und QUalität zu erschließen, wie dies sonst nur im online Handel
möglich ist. Gleichzeitig bietet die SSI Technologie die Möglichkeit
den Kunden ihre Datenhoheit zurückzugeben und sie fair und transparent
am Geschäft mit den eigenen Daten zu beteiligen. Die etablierten
Idente von GS1 im Handel werden hierbei eine wichtige Rolle spielen.


Auf Basis der in den Forschungsprojekten auszuarbeitenden
grundlegenden Infrastruktur an sicheren Certified IDs können eine
vielzahl von Use Cases innerhalb der Förderprojekte und darüber hinaus
umgesetzt weden, insbesondere die in <<sec_use_cases>> vorgestellten.


==== Strategische Ausrichtung

Wichtige Strategische Fragen, etwa ob und wie GS1 die Überprüfung von
Unternehmensstammdaten, z.B. konkret digitale Beglaubigung von
Handelsregisterauszügen, als Service anbieten möchte sind auf
Management Ebene zu klären. Jenseits der technischen Konzepte und
Anwendungsfälle muss ein Business Konzept für Certified Idente und
Stammdaten Zertifikate entwickelt werden bevor an eine Markteinführung
zu denken ist.


[bibliography]
== Literaturverzeichnis/Quellenangaben

- [[[acatech]]] Wandlungsfähige, menschzentrierte Strukturen in Fabriken und Netzwerken der Industrie 4.0 (acatech Studie), München: Herbert Utz Verlage 2018. https://www.plattform-i40.de/PI40/Redaktion/DE/Downloads/Publikation/hm-2018-fb-wandlung.html
- [[[did-core]]] Decentralized Identifiers (DIDs) v1.0 https://www.w3.org/TR/did-core/
- [[[gleif]]] GLEIF und LEI https://www.gleif.org/de/about-lei/introducing-the-legal-entity-identifier-lei
- [[[lei]]] Lei verstehen https://www.lei.direct/de/lei-verstehen/
- [[[rfc-2141]]] IETF RFC 2141 https://tools.ietf.org/html/rfc2141
- [[[szenarien-i40]]] Fortschreibung der Anwendungsszenarien der Plattform Industrie 4.0 https://www.plattform-i40.de/PI40/Redaktion/DE/Downloads/Publikation/fortschreibung-anwendungsszenarien.html
- [[[vc-data-model]]] Verifiable Credentials Data Model 1.0 https://www.w3.org/TR/vc-data-model/
- [[[vdma-i40]]] Leitfaden Industrie 4.0 (VDMA - Forum Industrie 4.0) https://industrie40.vdma.org/viewer/-/v2article/render/15540546


Online Ressourcen (Stand September 2020):

- [[[auth]]] https://de.wikipedia.org/wiki/Authentifizierung
- [[[gen-spec]]] https://www.gs1.org/standards/barcodes-epcrfid-id-keys/gs1-general-specifications
- [[[gepir]]] https://www.gs1-germany.de/gepir-datenbank/ ( https://www.gepir.de/ )
- [[[gtin-manager]]] https://www.gs1-germany.de/serviceverzeichnis/gtin-manager/
- [[[online-demo]]] https://gs1-germany-innolab.github.io/eku-pd-certified-by-gs1-demo/
- [[[tls]]] https://de.wikipedia.org/wiki/Transport_Layer_Security
- [[[verified-by-gs1]]] https://www.gs1-germany.de/serviceverzeichnis/verified-by-gs1/
- [[[gs1-prefix]]]  https://www.gs1.org/standards/id-keys/company-prefix

- [[[pki]]] https://de.wikipedia.org/wiki/Public-Key-Infrastruktur
- [[[ssi]]] https://hpd.de/artikel/self-sovereign-identities-helfen-internet-reparieren-17150
- [[[ssi-am]]] https://digitaleweltmagazin.de/2019/08/12/chancen-der-self-sovereign-identities-ssi-aus-sicht-von-unternehmen-fuer-das-identity-access-management-iam/
- [[[ssi-zukunft]]] https://www.validatedid.com/de/self-sovereign-identity-die-zukunft-steht-vor-der-tuer/ 
- [[[ssi-bitkom]]] https://www.bitkom.org/Bitkom/Publikationen/Self-Sovereign-Identity-Use-Cases

